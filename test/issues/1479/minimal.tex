\documentclass{article}
\usepackage{hyperref}
\usepackage{amsthm}
\usepackage{amsmath}

\numberwithin{equation}{section}

\newtheorem{theorem}{Theorem}
\newtheorem{proposition}{Proposition}

\begin{document}

Hello World!

To test label completion you need to compile the document first!

\section{Section 1}

\begin{theorem}
  \label{th:first}
  test
\end{theorem}

\begin{equation}
  f(x) = 42
  \label{eq:main-is-working}
\end{equation}

\begin{align}
  \label{eq:test1}
  a &= 1 + x \\
  \label{eq:aligned}
  b &= x^2
\end{align}

\section{Section 2}

\begin{subequations}
  \begin{align}
    \label{eq:sub1}
    a &= 1 + x \\
    \label{eq:sub2}
    b &= x^2
  \end{align}
\end{subequations}

\section{Section 2}

\begin{theorem}
  \label{th:second}
  test
\end{theorem}

\begin{proposition}
  \label{prop:first}
  test
\end{proposition}

\begin{proposition}
  \label{prop:second}
  test
\end{proposition}

\begin{figure}
  \centering
  \rule{1cm}{1cm}
  \caption{Test 1}
  \label{fig:test1}
\end{figure}

\begin{figure}
  \centering
  \rule{1cm}{1cm}
  \caption{Test 2}
  \label{fig:test2}
\end{figure}

\end{document}
